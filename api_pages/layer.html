<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Animated sprite editor &amp; pixel art tool">
    <meta name="author" content="Igara Studio S.A.">
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Aseprite" />
    <meta property="og:description" content="Animated sprite editor &amp; pixel art tool" />
    <meta property="og:image" content="https://www.aseprite.org/assets/images/og-image.png" />
    <meta property="og:url" content="https://www.aseprite.org/" />

    <title>Aseprite - Api - Layer</title>
    <link rel="shortcut icon" href="/assets/images/favicon.png">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link href="/assets/css/fontawesome.min.css" rel="stylesheet">
    <link href="/assets/css/brands.min.css" rel="stylesheet">
    <link href="/assets/css/solid.min.css" rel="stylesheet">
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/css/aseprite.css?v=32" rel="stylesheet">
  </head>

  <body>
    <div class="navbar navbar-default navbar-static-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"></button>
          <a class="navbar-brand" href="/" title="Home"></a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="docs-button ">
              <a href="/docs/"><i class="sprite sprite-docs"></i>&nbsp;Docs</a></li>
            <li><a href="https://blog.aseprite.org/"><i class="sprite sprite-blog"></i>&nbsp;Blog</a></li>
            <li><a href="https://community.aseprite.org/"><i class="sprite sprite-community"></i>&nbsp;Community</a></li>
            <li ><a href="/support/"><i class="sprite sprite-support"></i>&nbsp;Support</a></li>
            <li class="buy-button">
              <a href="/download/"><i class="sprite sprite-download"></i>&nbsp;Buy Now</a></li>
            <li class="social-buttons">
              <a href="https://twitter.com/aseprite" title="Twitter"><i class="fab fa-twitter-square"></i></a>
              <a href="https://www.facebook.com/aseprite" title="Facebook"><i class="fab fa-facebook"></i></a>
              <a href="https://discord.gg/Yb2CeX8" title="Discord" class="discord-button"><i class="fab fa-discord"></i></a>
            </li>
          </ul>
        </div>
      </div>
    </div>

<div class="top-shadow"></div>
<div id="content-wrapper">
<div id="content">
<div class="container">
  <div class="row">
    <div class="col-md-12">
      <ul class="nav nav-tabs nav-justified">
<li class=""><a href="/docs/">Documentation</a></li>
<li class="active"><a href="/api/">API</a></li>
<li class=""><a href="/faq/">FAQ</a></li>
<li class=""><a href="/quickref/">Quick Reference</a></li>
<li class=""><a href="/tutorial/">Tutorial</a></li>
      </ul>
    </div>
  </div>
  <div class="row">
    <div class="col-md-3" style="padding-top: 2em">
      <script type="text/javascript" src="/assets/js/search.js?v=2"></script>
      <script type="text/javascript">
        searchUrl = "/search/api";
        document.addEventListener("click", onSearchDismiss);
      </script>
      <input id="search-terms" type="text" class="form-control" placeholder="Search documentation..." autofocus onfocus="onSearchFocus(event)" onkeydown="onSearchKeyDown(event)" oninput="onSearchInput(event)">
      <a href="https://community.aseprite.org/t/14148" style="float:right; font-size:small; font-style:italic;">Feedback</a>
      <ul id="search-result" class="search-result" onkeydown="onSearchResultKeyDown(event)">
        <li><small class="text-right">press ENTER to search or ESC to cancel</small></li>
      </ul>
      <h3 id="table-of-content">Table of content<a href="#table-of-content" class="section_anchor"></a></h3>
<p><a href="/./api">Overview</a> <br>
<a href="/./api/Changes">API Changes</a></p>
<p>Globals namespaces</p>
<ul>
<li><a href="/./api/app#app">app</a></li>
<li><a href="/./api/app_clipboard#appclipboard">app.clipboard</a></li>
<li><a href="/./api/app_command#appcommand">app.command</a></li>
<li><a href="/./api/app_fs#appfs">app.fs</a></li>
<li><a href="/./api/app_os#appos">app.os</a></li>
<li><a href="/./api/pixelcolor#apppixelcolor">app.pixelColor</a></li>
<li><a href="/./api/app_theme#apptheme">app.theme</a></li>
<li><a href="/./api/json#json">json</a></li>
</ul>
<p>Constants</p>
<ul>
<li><a href="/./api/align#align">Align</a></li>
<li><a href="/./api/anidir#anidir">AniDir</a></li>
<li><a href="/./api/blendmode#blendmode">BlendMode</a></li>
<li><a href="/./api/brushpattern#brushpattern">BrushPattern</a></li>
<li><a href="/./api/brushtype#brushtype">BrushType</a></li>
<li><a href="/./api/colormode#colormode">ColorMode</a></li>
<li><a href="/./api/filterchannels#filterchannel">FilterChannels</a></li>
<li><a href="/./api/fliptype#fliptype">FlipType</a></li>
<li><a href="/./api/ink#ink">Ink</a></li>
<li><a href="/./api/mousebutton#mousebutton">MouseButton</a></li>
<li><a href="/./api/mousecursor#mousecursor">MouseCursor</a></li>
<li><a href="/./api/rangetype#rangetype">RangeType</a></li>
<li><a href="/./api/selectionmode#selectionmode">SelectionMode</a></li>
<li><a href="/./api/spritesheetdataformat#spritesheetdataformat">SpriteSheetDataFormat</a></li>
<li><a href="/./api/spritesheettype#spritesheettype">SpriteSheetType</a></li>
<li><a href="/./api/tilemapmode#tilemapmode">TilemapMode</a></li>
<li><a href="/./api/tilesetmode#tilesetmode">TilesetMode</a></li>
<li><a href="/./api/websocketmessagetype#websocketmessagetype">WebSocketMessageType</a></li>
</ul>
<p>Classes/objects</p>
<ul>
<li><a href="/./api/brush#brush">Brush</a></li>
<li><a href="/./api/cel#cel">Cel</a></li>
<li><a href="/./api/color#color">Color</a></li>
<li><a href="/./api/colorspace#colorspace">ColorSpace</a></li>
<li><a href="/./api/dialog#dialog">Dialog</a></li>
<li><a href="/./api/editor#editor">Editor</a></li>
<li><a href="/./api/events#events">Events</a></li>
<li><a href="/./api/frame#frame">Frame</a></li>
<li><a href="/./api/graphicscontext#graphicscontext">GraphicsContext</a></li>
<li><a href="/./api/grid#grid">Grid</a></li>
<li><a href="/./api/image#image">Image</a></li>
<li><a href="/./api/imagespec#imagespec">ImageSpec</a></li>
<li><a href="/./api/keyevent#keyevent">KeyEvent</a></li>
<li><a href="/./api/layer#layer">Layer</a></li>
<li><a href="/./api/mouseevent#mouseevent">MouseEvent</a></li>
<li><a href="/./api/palette#palette">Palette</a></li>
<li><a href="/./api/plugin#plugin">Plugin</a></li>
<li><a href="/./api/point#point">Point</a></li>
<li><a href="/./api/properties#properties">Properties</a></li>
<li><a href="/./api/range#range">Range</a></li>
<li><a href="/./api/rectangle#rectangle">Rectangle</a></li>
<li><a href="/./api/selection#selection">Selection</a></li>
<li><a href="/./api/site#site">Site</a></li>
<li><a href="/./api/size#size">Size</a></li>
<li><a href="/./api/slice#slice">Slice</a></li>
<li><a href="/./api/sprite#sprite">Sprite</a></li>
<li><a href="/./api/tag#tag">Tag</a></li>
<li><a href="/./api/tile#tile">Tile</a></li>
<li><a href="/./api/tileset#tileset">Tileset</a></li>
<li><a href="/./api/timer#timer">Timer</a></li>
<li><a href="/./api/tool#tool">Tool</a></li>
<li><a href="/./api/touchevent#touchevent">TouchEvent</a></li>
<li><a href="/./api/version#version">Version</a></li>
<li><a href="/./api/uuid#uuid">Uuid</a></li>
<li><a href="/./api/websocket#websocket">WebSocket</a></li>
<li><a href="/./api/window#window">Window</a></li>
</ul>
      <hr>
      <p><em><a href="https://github.com/aseprite/api/edit/main/api/layer.md">Edit page</a></em></p>
    </div>
    <div id="doc_content" class="col-md-9">
      <h1 id="layer">Layer<a href="#layer" class="section_anchor"></a></h1>
<p>Layers are arranged as a stack within a sprite. Layers may nest within
each other to form a hierarchy. Layers that accept children are group
layers.</p>
<p>A layer can be created with <a href="/api/sprite#spritenewlayer">Sprite:newLayer</a>.
A group layer can be created with <a href="/api/sprite#spritenewgroup">Sprite:newGroup</a>.
Layers can be removed with <a href="/api/sprite#spritedeletelayer">Sprite:deleteLayer</a>.</p>
<h2 id="layersprite">Layer.sprite<a href="#layersprite" class="section_anchor"></a></h2>
<p>Gets the <a href="/api/sprite#sprite">sprite</a> to which this layer belongs.</p>
<h2 id="layername">Layer.name<a href="#layername" class="section_anchor"></a></h2>
<p>Gets or sets the layer name, a <code>string</code>.</p>
<h2 id="layeropacity">Layer.opacity<a href="#layeropacity" class="section_anchor"></a></h2>
<pre><code class="language-lua">local opacity = layer.opacity
layer.opacity = newOpacity
</code></pre>
<p>Gets or sets the layer opacity, a value from <code>0</code> to <code>255</code>. The layer
is completely transparent when the value is <code>0</code>; opaque when the value
is <code>255</code>. When the layer is a <a href="#layerisbackground">background</a>,
returns <code>255</code>.</p>
<p>When the layer is a <a href="#layerisgroup">group</a>, returns <code>nil</code>.</p>
<h2 id="layerblendmode">Layer.blendMode<a href="#layerblendmode" class="section_anchor"></a></h2>
<pre><code class="language-lua">local blendMode = layer.blendMode
layer.blendMode = newBlendMode
</code></pre>
<p>Gets or sets the layer blending mode (how colors are blend with the
layer below). It's expressed as an integer or a value from the
<a href="/api/blendmode#blendmode">BlendMode</a> enumeration.</p>
<p>When the layer is a <a href="#layerisgroup">group</a>, this property is <code>nil</code>.</p>
<h2 id="layerlayers">Layer.layers<a href="#layerlayers" class="section_anchor"></a></h2>
<p>If a layer is a <a href="#layerisgroup">group</a>, gets the <code>table</code> of child
layers for which the group serves as a <a href="#layerparent">parent</a>. If the
layer is not a group, returns <code>nil</code>.</p>
<h2 id="layerparent">Layer.parent<a href="#layerparent" class="section_anchor"></a></h2>
<pre><code class="language-lua">local spriteOrLayerGroup = layer.parent
layer.parent = sprite
layer.parent = group
</code></pre>
<p>Gets or sets the layer's parent. The parent may be either a
<a href="/api/sprite#sprite">sprite</a> or a <a href="#layerisgroup">group</a> layer.</p>
<p>Upon setting the parent, the child layer is moved to the top of the
parent's layer <a href="#layerstackindex">stack</a>. Throws an error if the
parent layer is not a group or if the setter tries to parent a layer
to itself.</p>
<h2 id="layerstackindex">Layer.stackIndex<a href="#layerstackindex" class="section_anchor"></a></h2>
<pre><code class="language-lua">local index = layer.stackIndex
layer.stackIndex = newPosition
</code></pre>
<p>Gets or sets the layer's index in its parent's layers <code>table</code>. In
other words, this is the layer's place in the local stack. Layers
stack in descending order. For example, a layer with index <code>1</code> will
lie beneath a layer with index <code>2</code>, assuming the layers share the same
parent.</p>
<h2 id="layeruuid">Layer.uuid<a href="#layeruuid" class="section_anchor"></a></h2>
<pre><code class="language-lua">local uuid = layer.uuid
</code></pre>
<p>Returns the <a href="/api/uuid#uuid">uuid</a> of the layer.</p>
<h2 id="layerisimage">Layer.isImage<a href="#layerisimage" class="section_anchor"></a></h2>
<p>Gets whether or not the layer contains <a href="/api/cel#cel">cels</a> with
<a href="/api/image#image">images</a>.</p>
<h2 id="layerisgroup">Layer.isGroup<a href="#layerisgroup" class="section_anchor"></a></h2>
<p>Gets whether or not the layer is a group and <em>has the capacity</em> to be
a parent to other layers. A layer may be a group, yet have no
children; in such a case, its <a href="#layerlayers">layers</a> property will
return a table of zero length.</p>
<p>Groups may nest within groups, creating a hierarchy.</p>
<h2 id="layeristilemap">Layer.isTilemap<a href="#layeristilemap" class="section_anchor"></a></h2>
<p>Returns true if the layer is a tilemap (contains a <a href="#layertileset">tileset</a>)</p>
<h2 id="layeristransparent">Layer.isTransparent<a href="#layeristransparent" class="section_anchor"></a></h2>
<p>Gets whether or not a layer supports transparency. The opposite of the
property <a href="#layerisbackground">Layer.isBackground</a>. For <a href="/api/colormode#colormodeindexed">indexed color
mode</a>, the layer may contain images
with a <a href="/api/imagespec#imagespectransparentcolor">transparent color</a>
index. For RGB or grayscale color mode, the layer may contain images
with an alpha channel.</p>
<p>Returns <code>true</code> if the layer is a <a href="#layerisgroup">group</a>.</p>
<p>For context, see the general documentation on
<a href="/docs/layers">layers</a>.</p>
<h2 id="layerisbackground">Layer.isBackground<a href="#layerisbackground" class="section_anchor"></a></h2>
<p>Gets whether or not a layer is a background. The opposite of the
property <a href="#layeristransparent">Layer.isTransparent</a>. Background layers
do not contain images which support transparency. Returns <code>false</code> if
the layer is a <a href="#layerisgroup">group</a>.</p>
<p>For context, see the general documentation on
<a href="/docs/layers">layers</a>.</p>
<h2 id="layeriseditable">Layer.isEditable<a href="#layeriseditable" class="section_anchor"></a></h2>
<p>Gets or sets whether a layer is editable, unlocked in other words.</p>
<p>It describes only the group layer's local editability, not whether any
hierarchy that contains it is editable. See
<a href="#layerisvisible">Layer.isVisible</a> for an example snippet using a
similar property.</p>
<h2 id="layerisvisible">Layer.isVisible<a href="#layerisvisible" class="section_anchor"></a></h2>
<pre><code class="language-lua">local visible = layer.isVisible
layer.isVisible = visible
</code></pre>
<p>Gets or sets whether or not the layer is visible.</p>
<p>It describes only the layer's local visibility, not its visibility
with respect to the hierarchy that contains it. For example, in the
following code <code>layer1.isVisible</code> will be <code>true</code> (even when the parnet
group visibility is <code>false</code>):</p>
<pre><code class="language-lua">local sprite = app.sprite
local layerGroup = sprite:newGroup()
local layers = sprite.layers
local layer1 = layers[1]
layer1.parent = layerGroup
layerGroup.isVisible = false
layer1.isVisible = true
print(layer1.isVisible)
</code></pre>
<h2 id="layeriscontinuous">Layer.isContinuous<a href="#layeriscontinuous" class="section_anchor"></a></h2>
<p>Gets or sets whether a layer biases toward linked <a href="/api/cel#cel">cels</a>
when a new cel is created in the timeline.</p>
<p>Returns <code>false</code> if the layer is a <a href="#layerisgroup">group</a>.</p>
<p>For context, see the general documentation on <a href="/docs/continuous-layers/">continuous
layers</a>.</p>
<h2 id="layeriscollapsed">Layer.isCollapsed<a href="#layeriscollapsed" class="section_anchor"></a></h2>
<p>Gets or sets whether or not a <a href="#layerisgroup">group</a> layer is
collapsed, i.e., whether its child layers are hidden in the
timeline. The opposite of the property
<a href="#layerisexpanded">Layer.isExpanded</a>.</p>
<p>It describes only the group layer's local collapse, not whether any
hierarchy that contains it is collapsed. See
<a href="#layerisvisible">Layer.isVisible</a> for an example snippet using a
similar property.</p>
<h2 id="layerisexpanded">Layer.isExpanded<a href="#layerisexpanded" class="section_anchor"></a></h2>
<p>Gets or sets whether or not a <a href="#layerisgroup">group</a> layer is
expanded, meaning whether its child layers are visible in the
timeline. The opposite of the property
<a href="#layeriscollapsed">Layer.isCollapsed</a>.</p>
<p>It describes only the group layer's local expansion, not whether any
hierarchy that contains it is expanded. See
<a href="#layerisvisible">Layer.isVisible</a> for an example snippet using a
similar property.</p>
<h2 id="layerisreference">Layer.isReference<a href="#layerisreference" class="section_anchor"></a></h2>
<pre><code class="language-lua">local isRef = layer.isReference
</code></pre>
<p>Gets whether or not the layer is a reference layer. You cannot change
the value of this property.</p>
<h2 id="layercels">Layer.cels<a href="#layercels" class="section_anchor"></a></h2>
<p>Gets a <code>table</code> of <a href="/api/cel#cel">cels</a> in the layer. If the layer is
a <a href="#layerisgroup">group</a>, this property will return a table of zero length.</p>
<p>See also the <a href="#layercel">Layer:cel()</a> function.</p>
<h2 id="layercolor">Layer.color<a href="#layercolor" class="section_anchor"></a></h2>
<pre><code class="language-lua">local color = layer.color
layer.color = color
</code></pre>
<p>Gets or sets the user-defined <a href="/api/color#color">color</a> of this layer in the timeline.</p>
<h2 id="layerdata">Layer.data<a href="#layerdata" class="section_anchor"></a></h2>
<pre><code class="language-lua">local data = layer.data
layer.data = data
</code></pre>
<p>Gets or sets the user-defined data related to this layer (a text string).</p>
<h2 id="layerproperties">Layer.properties<a href="#layerproperties" class="section_anchor"></a></h2>
<p>Access user-defined and extension-defined
<a href="/api/properties#properties">properties</a> of this layer.</p>
<h2 id="layercel">Layer:cel()<a href="#layercel" class="section_anchor"></a></h2>
<pre><code class="language-lua">local cel = layer:cel(frameNumber)
assert(cel == layer:cel(sprite.frames[frameNumber]))
</code></pre>
<p>Returns a <a href="/api/cel#cel">cel</a>, if any, at the intersection of the layer
and a frame. The frame may be either a <a href="/api/frame#frame">frame</a> object
or its <a href="/api/frame#frameframenumber">frame number</a>, an integer. If there
is no cel at that intersection, returns <code>nil</code>.</p>
<h2 id="layertileset">Layer.tileset<a href="#layertileset" class="section_anchor"></a></h2>
<pre><code class="language-lua">local tileset = layer.tileset
layer.tileset = newTileset
</code></pre>
<p>Gets or sets the <a href="/api/tileset#tileset">tileset</a> associated to this
layer only when <a href="#layeristilemap">it's a tilemap</a> (returns nil in
other case).</p>
    </div>
      </div>
</div>
</div>
</div>
    <div class="film-decorator"></div>
    <div id="footer">
    <div class="container">

      <div class="row">
		<div class="col-xs-offset-0 col-xs-6 col-sm-offset-0 col-sm-4 col-md-offset-1 col-md-2">
		  <h4>Links</h4>
		  <ul>
			<li><a href="/">Home</a>
			<li><a href="https://github.com/aseprite/aseprite/issues">Known Issues</a>
			<li><a href="https://github.com/aseprite/aseprite/issues/new">Bug Report</a>
			<li><a href="/contributors/">Contributors</a>
			<li><a href="/donate/">Donations</a>
		  </ul>
		</div>
		<div class="col-xs-6 col-sm-4 col-md-2">
		  <h4>Community</h4>
		  <ul>
			<li><a href="https://community.aseprite.org/"><i class="fab fa-discourse"></i> Aseprite Community</a>
			<li><a href="https://discord.gg/Yb2CeX8"><i class="fab fa-discord"></i> Discord Server</a>
			<li><a href="https://steamcommunity.com/app/431730"><i class="fab fa-steam"></i> Steam Community</a>
			<li><a href="https://www.reddit.com/r/aseprite/"><i class="fab fa-reddit"></i> /r/aseprite</a>
		  </ul>
		</div>
		<div class="col-xs-6 col-sm-4 col-md-2">
		  <h4>Documentation</h4>
		  <ul>
			<li><a href="/quickref/">Quick reference</a>
			<li><a href="/docs/">Docs</a> - <a href="/faq/">FAQ</a>
			<li><a href="/tutorial/">Tutorial</a>
			<li><a href="http://blog.aseprite.org/">Blog</a></li>
		  </ul>
		</div>
		<div class="col-xs-offset-0 col-xs-6 col-sm-offset-3 col-sm-3 col-md-offset-0 col-md-2">
		  <h4>Development</h4>
		  <ul>
			<li><a href="https://github.com/aseprite/aseprite/"><i class="fab fa-github"></i> GitHub</a></li>
			<li><a href="https://dev.aseprite.org/">Devblog</a></li>
			<li><a href="/roadmap/">Roadmap</a>
			<li><a href="https://github.com/aseprite/aseprite/blob/master/CONTRIBUTING.md">Contribute</a>
		  </ul>
		</div>
		<div class="col-xs-offset-4 col-xs-6 col-sm-offset-0 col-sm-3 col-md-offset-0 col-md-2">
		  <h4>Social</h4>
		  <ul>
			<li><a href="https://twitter.com/aseprite/"><i class="fab fa-twitter"></i> Twitter</a>
			<li><a href="https://mastodon.art/@aseprite" rel="me"><i class="fab fa-mastodon"></i> Mastodon</a>
			<li><a href="https://www.facebook.com/aseprite"><i class="fab fa-facebook"></i> Facebook</a>
			<li><a href="https://www.youtube.com/user/aseprite"><i class="fab fa-youtube"></i> YouTube</a>
			<li><a href="https://www.instagram.com/aseprite/"><i class="fab fa-instagram"></i> Instagram</a>
		  </ul>
		</div>
      </div>

      <div class="row">
        <div class="col-md-12">
          <p class="very-bottom">
&copy; 2001&dash;2025
<a href="https://igara.com/">Igara Studio S.A.</a> <span>|</span>
<a href="https://www.aseprite.org/terms/">Terms of Service</a> <span>|</span>
<a href="https://www.aseprite.org/privacy/">Privacy</a> <span>|</span>
<a href="https://www.aseprite.org/support/">Support</a>
          </p>
        </div>
      </div>

    </div>
    </div> <!-- /#footer -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="/assets/js/bootstrap.min.js"></script>



<script>
$(function(){


$('.navbar-toggle').click(function(){
 var updateParCount = 0;
 var updateParScroll = setInterval(function(){
  $(window).trigger('resize').trigger('scroll');
  updateParCount++;
  if (updateParCount == 20) {
   clearInterval(updateParScroll);
  }
 },20);
});
});
</script>
  </body>
</html>
